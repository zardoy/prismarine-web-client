{"version":3,"file":"Book.stories-c4cc7fc9.js","sources":["../../src/react/book_icons/book.webp","../../src/react/book_icons/book-half.webp","../../src/react/book_icons/notebook.webp","../../src/react/book_icons/title.webp","../../src/react/Book.tsx"],"sourcesContent":["export default \"__VITE_ASSET__eed73bca__\"","export default \"__VITE_ASSET__e7f384be__\"","export default \"__VITE_ASSET__3b9c18cb__\"","export default \"data:image/webp;base64,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\"","import React, { useState, useRef, useEffect, useCallback } from 'react'\nimport insideIcon from './book_icons/book.webp'\nimport insideHalfIcon from './book_icons/book-half.webp'\nimport singlePageInsideIcon from './book_icons/notebook.webp'\nimport titleIcon from './book_icons/title.webp'\nimport styles from './Book.module.css'\nimport Button from './Button'\nimport MessageFormattedString from './MessageFormattedString'\n\nexport interface BookProps {\n  textPages: string[]\n  editable: boolean\n  onSign: (textPages: string[], title: string) => void\n  onEdit: (textPages: string[]) => void\n  onClose: () => void\n  author: string\n}\n\nconst Book: React.FC<BookProps> = ({ textPages, editable, onSign, onEdit, onClose, author }) => {\n  const [pages, setPages] = useState<string[]>(textPages)\n  const [currentPage, setCurrentPage] = useState(0)\n  const [isSinglePage, setIsSinglePage] = useState(window.innerWidth < 972)\n  const [insideImage, setInsideImage] = useState(window.innerWidth < 972 ? singlePageInsideIcon : insideIcon)\n  const [animateInsideIcon, setAnimateInsideIcon] = useState(0)\n  const [animatePageIcon, setAnimatePageIcon] = useState(0)\n  const [animateTitleIcon, setAnimateTitleIcon] = useState(0)\n  const [signClickedOnce, setSignClickedOnce] = useState(false)\n  const textAreaRefs = useRef<HTMLTextAreaElement[]>([])\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const handleResize = useCallback(() => {\n    const isSingle = window.innerWidth < 972\n    setIsSinglePage(isSingle)\n    setInsideImage(isSingle ? singlePageInsideIcon : insideIcon)\n  }, [])\n\n  useEffect(() => {\n    handleResize()\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [handleResize])\n\n  useEffect(() => {\n    const index = currentPage * (isSinglePage ? 1 : 2)\n    if (textAreaRefs.current[index]) textAreaRefs.current[index].focus()\n  }, [currentPage, isSinglePage])\n\n  useEffect(() => {\n    if (signClickedOnce) {\n      setTimeout(() => {\n        inputRef.current!.focus()\n      }, 300) // wait for animation\n    }\n  }, [signClickedOnce])\n\n  const handlePageChange = (direction: number) => {\n    setCurrentPage((prevPage) => Math.min(Math.max(prevPage + direction, 0), Math.ceil(pages.length / (isSinglePage ? 1 : 2)) - 1))\n  }\n\n  const updatePage = (index, text) => {\n    setPages((prevPages) => {\n      const updatedPages = [...prevPages]\n      updatedPages[index] = text\n      return updatedPages\n    })\n  }\n\n  const handleTextChange = (e, pageIndex) => {\n    const text = e.target.value\n    updatePage(pageIndex, text)\n\n    const nextPageIndex = pageIndex + 1\n    const isMaxLengthReached = text.length >= e.target.maxLength\n\n    if (isMaxLengthReached) {\n      if (nextPageIndex < pages.length) {\n        setCurrentPage(Math.floor(nextPageIndex / (isSinglePage ? 1 : 2)))\n      } else {\n        setPages((prevPages) => [...prevPages, ''])\n        setCurrentPage(Math.floor(nextPageIndex / (isSinglePage ? 1 : 2)))\n      }\n      textAreaRefs.current[nextPageIndex]?.focus()\n    } else if (text === '' && pageIndex > 0 && e.nativeEvent.inputType === 'deleteContentBackward') {\n      setCurrentPage(Math.floor((pageIndex - 1) / (isSinglePage ? 1 : 2)))\n      textAreaRefs.current[pageIndex - 1]?.focus()\n    }\n  }\n\n  useEffect(() => {\n    const index = currentPage * (isSinglePage ? 1 : 2)\n    textAreaRefs.current[index]?.focus()\n  }, [currentPage, isSinglePage])\n\n  const handlePaste = (e: React.ClipboardEvent<HTMLTextAreaElement>, pageIndex: number) => {\n    const pasteText = e.clipboardData.getData('text')\n    const updatedPages = [...pages]\n    const currentText = updatedPages[pageIndex]\n    const selectionStart = e.currentTarget.selectionStart || 0\n    const selectionEnd = e.currentTarget.selectionEnd || 0\n\n    const newText = currentText.slice(0, selectionStart) + pasteText + currentText.slice(selectionEnd)\n    updatedPages[pageIndex] = newText\n    setPages(updatedPages)\n\n    if (newText.length > e.currentTarget.maxLength) {\n      const remainingText = newText.slice(e.currentTarget.maxLength)\n      updatedPages[pageIndex] = newText.slice(0, e.currentTarget.maxLength)\n      setPages(updatedPages)\n\n      const nextPageIndex = pageIndex + 1\n\n      if (nextPageIndex < pages.length) {\n        handlePasteRemainingText(remainingText, nextPageIndex)\n      } else {\n        setPages((prevPages) => [...prevPages, remainingText])\n        setCurrentPage(Math.floor(nextPageIndex / (isSinglePage ? 1 : 2)))\n        focusOnTextArea(nextPageIndex)\n      }\n    }\n  }\n\n  const handlePasteRemainingText = (remainingText: string, nextPageIndex: number) => {\n    const updatedPages = [...pages]\n    updatedPages[nextPageIndex] = remainingText\n    setPages(updatedPages)\n    focusOnTextArea(nextPageIndex)\n  }\n\n  const focusOnTextArea = (index: number) => {\n    setTimeout(() => {\n      textAreaRefs.current[index]?.focus()\n    }, 0)\n  }\n\n  const handleSign = useCallback(() => {\n    if (editable && signClickedOnce) {\n      const title = inputRef.current?.value || ''\n      onSign(pages, title)\n    }\n    setSignClickedOnce(true)\n    setAnimatePageIcon(1)\n    setAnimateInsideIcon(1)\n    setTimeout(() => {\n      setAnimateTitleIcon(1)\n    }, 150)\n  }, [pages, onSign, editable, signClickedOnce])\n\n  const handleEdit = useCallback(() => {\n    setSignClickedOnce(false)\n    onEdit(pages)\n  }, [pages, onEdit])\n\n  const handleCancel = useCallback(() => {\n    if (signClickedOnce) {\n      setSignClickedOnce(false)\n      setAnimateTitleIcon(2)\n      setTimeout(() => {\n        setAnimateInsideIcon(2)\n        setTimeout(() => {\n          setAnimatePageIcon(2)\n        }, 150)\n      }, 150)\n    } else {\n      onClose()\n    }\n  }, [signClickedOnce, onClose])\n\n  const setRef = (index: number) => (el: HTMLTextAreaElement | null) => {\n    textAreaRefs.current[index] = el!\n  }\n\n  const getAnimationClass = (animationState, baseClass) => {\n    switch (animationState) {\n      case 1:\n        return `${baseClass} ${styles.pageAnimation}`\n      case 2:\n        return `${baseClass} ${styles.pageAnimationReverse}`\n      default:\n        return baseClass\n    }\n  }\n\n  const renderPage = (index) => (\n    <div className={styles.page} key={index}>\n      {editable ? (\n        <textarea\n          onContextMenu={(e) => {\n            e.stopPropagation() // allow to open system context menu on text area for better UX\n          }}\n          ref={setRef(index)}\n          value={pages[index]}\n          onChange={(e) => handleTextChange(e, index)}\n          onPaste={(e) => handlePaste(e, index)}\n          className={getAnimationClass(animatePageIcon, styles.textArea)}\n          maxLength={500}\n        />\n      ) : (\n        <div className={getAnimationClass(animatePageIcon, '')}>\n          <MessageFormattedString message={pages[index]} fallbackColor='black' className={styles.messageFormattedString} />\n        </div>\n      )}\n    </div>\n  )\n\n  return (\n    <div className={styles.bookWrapper}>\n      <div className={styles.bookContainer}>\n        <img\n          src={insideImage}\n          className={`${styles.insideIcon} ${\n            animateInsideIcon === 1\n              ? styles.insideAnimation\n              : animateTitleIcon === 2\n                ? styles.insideAnimationReverse\n                : ''\n          }`}\n          alt=\"inside Icon\"\n        />\n        <img\n          src={insideHalfIcon}\n          className={`${styles.insideHalfIcon} ${\n            animatePageIcon === 1\n              ? styles.pageAnimation\n              : animatePageIcon === 2\n                ? styles.pageAnimationReverse\n                : ''\n          }`}\n          alt=\"inside Page Icon\"\n        />\n        <img\n          src={titleIcon}\n          className={`${styles.titleIcon} ${\n            animateTitleIcon === 1\n              ? styles.titleAnimation\n              : animateTitleIcon === 2\n                ? styles.titleAnimationReverse\n                : ''\n          }`}\n          alt=\"Title Icon\"\n        />\n        <div className={`${styles.inside}`}>\n          {renderPage(currentPage * (isSinglePage ? 1 : 2))}\n          {!isSinglePage && (currentPage * 2 + 1) < pages.length && renderPage(currentPage * 2 + 1)}\n          <Button\n            className={`${styles.controlPrev} ${\n              animateInsideIcon === 1\n                ? styles.hidden\n                : animateInsideIcon === 2\n                  ? styles.pageButtonAnimationReverse\n                  : ''\n            }`}\n            onClick={() => handlePageChange(-1)}\n            disabled={currentPage === 0}\n          >\n            {' '}\n          </Button>\n          <Button\n            className={`${styles.controlNext} ${\n              animateInsideIcon === 1\n                ? styles.hidden\n                : animateInsideIcon === 2\n                  ? styles.pageButtonAnimationReverse\n                  : ''\n            }`}\n            onClick={() => handlePageChange(1)}\n            disabled={(currentPage + 1) * (isSinglePage ? 1 : 2) >= pages.length}\n          >\n            {' '}\n          </Button>\n        </div>\n        <div\n          className={`${styles.outSide} ${\n            animateTitleIcon === 1\n              ? styles.titleContentAnimation\n              : animateTitleIcon === 2\n                ? styles.titleContentAnimationReverse\n                : ''\n          }`}\n        >\n          {editable ? (\n            <div className={`${styles.titleContent}`} >\n              <MessageFormattedString message=\"Enter Book Title: \" />\n              <form onSubmit={(e) => {\n                e.preventDefault()\n                handleSign()\n              }}\n              >\n                <input\n                  ref={inputRef}\n                  className=\"\"\n                />\n                {/* for some reason this is needed to make Enter work on android chrome */}\n                <button type='submit' style={{ visibility: 'hidden', height: 0, width: 0 }} />\n              </form>\n              <MessageFormattedString message={`by ${author}`} />\n              <br />\n              <MessageFormattedString message=\"Note! When you sign the book, it will no longer be editable.\" />\n            </div>\n          ) : (\n            <div className={`${styles.titleContent}`} >\n              <MessageFormattedString message=\"Book Name Here\" />\n              <br />\n              <MessageFormattedString message=\"by: Author\" />\n            </div>\n          )}\n        </div>\n      </div>\n      <div className={styles.actions}>\n        {editable && (\n          <Button onClick={handleSign}>\n            {signClickedOnce ? 'Sign and Save' : 'Sign'}\n          </Button>\n        )}\n\n        {editable && !signClickedOnce && <Button onClick={handleSign}>Sign</Button>}\n        {editable && !signClickedOnce && <Button onClick={handleEdit}>Edit</Button>}\n        <Button onClick={handleCancel}>{signClickedOnce ? 'Cancel' : 'Close'}</Button>\n      </div>\n    </div>\n  )\n}\n\nexport default Book\n"],"names":["insideIcon$1","insideHalfIcon$1","singlePageInsideIcon","titleIcon$1","Book","textPages","editable","onSign","onEdit","onClose","author","pages","setPages","useState","currentPage","setCurrentPage","isSinglePage","setIsSinglePage","insideImage","setInsideImage","insideIcon","animateInsideIcon","setAnimateInsideIcon","animatePageIcon","setAnimatePageIcon","animateTitleIcon","setAnimateTitleIcon","signClickedOnce","setSignClickedOnce","textAreaRefs","useRef","inputRef","handleResize","useCallback","isSingle","useEffect","index","handlePageChange","direction","prevPage","updatePage","text","prevPages","updatedPages","handleTextChange","pageIndex","nextPageIndex","_a","_b","handlePaste","pasteText","currentText","selectionStart","selectionEnd","newText","remainingText","handlePasteRemainingText","focusOnTextArea","handleSign","title","handleEdit","handleCancel","setRef","el","getAnimationClass","animationState","baseClass","styles","renderPage","jsx","e","MessageFormattedString","jsxs","insideHalfIcon","titleIcon","Button","Book$1"],"mappings":"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"}