{"version":3,"file":"DiveTransition.stories-e8da13b6.js","sources":["../../src/react/DiveTransition.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { Transition } from 'react-transition-group'\nimport styles from './DiveTransition.module.css'\n\n// dive animation from framework7\n\nconst startStyle = { opacity: 0, transform: 'translateZ(-150px)' }\nconst endExitStyle = { opacity: 0, transform: 'translateZ(150px)' }\nconst endStyle = { opacity: 1, transform: 'translateZ(0)' }\n\nconst stateStyles = {\n  entering: endStyle,\n  entered: endStyle,\n  exiting: endExitStyle,\n  exited: endExitStyle,\n}\nconst duration = 300\nconst basicStyle = {\n  transition: `${duration}ms ease-in-out all`,\n}\n\nexport default ({ children, open }) => {\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    if (!mounted && open) {\n      setMounted(true)\n    }\n    let timeout\n    if (mounted && !open) {\n      timeout = setTimeout(() => {\n        setMounted(false)\n      }, duration)\n    }\n    return () => {\n      if (timeout) clearTimeout(timeout)\n    }\n  }, [open])\n\n  if (!mounted) return null\n\n  return <Transition\n    in={open}\n    timeout={duration}\n    mountOnEnter\n    unmountOnExit\n  >\n    {(state) => {\n      return <div className={styles.container}>\n        {/* todo resolve compl */}\n        <div style={{ ...basicStyle, ...stateStyles[state] }} className={styles.main}>{children}</div>\n      </div>\n    }}\n  </Transition>\n}\n"],"names":["endExitStyle","endStyle","stateStyles","duration","basicStyle","DiveTransition$1","children","open","mounted","setMounted","useState","useEffect","timeout","jsx","Transition","state","styles"],"mappings":"yQAOAA,EAAA,CAAA,QAAA,EAAA,UAAA,mBAAA,EACAC,EAAA,CAAA,QAAA,EAAA,UAAA,eAAA,EAEAC,EAAA,CAAoB,SAAAD,EACR,QAAAA,EACD,QAAAD,EACA,OAAAA,CAEX,EACAG,EAAA,IACAC,EAAA,CAAmB,WAAA,GAAAD,CAAA,oBAEnB,EAEAE,EAAA,CAAA,CAAA,SAAAC,EAAA,KAAAC,KAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAiBA,OAfAC,EAAAA,UAAA,IAAA,CACE,CAAAH,GAAAD,GACEE,EAAA,EAAA,EAEF,IAAAG,EACA,OAAAJ,GAAA,CAAAD,IACEK,EAAA,WAAA,IAAA,CACEH,EAAA,EAAA,CAAgB,EAAAN,CAAA,GAGpB,IAAA,CACES,GAAa,aAAAA,CAAA,CAAoB,CACnC,EAAA,CAAAL,CAAA,CAAA,EAGFC,EAEAK,EAAOC,EAAC,CAAA,GAAAP,EACF,QAAAJ,EACK,aAAA,GACG,cAAA,GACC,SAAAY,GAGXF,EAAA,MAAA,CAAA,UAAAG,EAAA,UAAA,SAAAH,EAAA,MAAA,CAAA,MAAA,CAAA,GAAAT,EAAA,GAAAF,EAAAa,CAAA,GAAA,UAAAC,EAAA,KAAA,SAAAV,EAAA,CAAA,CAAA,CAIF,CAAA,EAbY,IAehB;;;;"}