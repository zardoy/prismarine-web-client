import{a as re,F as Ye,j as C}from"./jsx-runtime-37f7df21.js";import{c as Oe,g as Ve,r as O}from"./index-f1f2c4b1.js";import{o as je}from"./simpleUtils-f26d34af.js";import{B as qe}from"./Button-171a86dd.js";import{p as He}from"./PixelartIcon-62975882.js";import{p as Ke,s as ze}from"./vanilla-66a0fdf5.js";var We=Object.defineProperty,Xe=(o,s,u)=>s in o?We(o,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[s]=u,T=(o,s,u)=>(Xe(o,typeof s!="symbol"?s+"":s,u),u);function Qe(o){const s={};for(const u of S.list)u.matchStyle(o)&&Object.assign(s,u.cssForeground);return s}function Ie(o){const s=[];for(const u of o.extra||[])s.push(Ie(u));return{children:s,component:o,style:Qe(o)}}function Nt(o){const s=o.indexOf("§");if(s===-1)return{text:o};const u={text:o.substring(0,s)};let c="";const h={bold:!1,obfuscated:!1,strikethrough:!1,underlined:!1,italic:!1,color:void 0};for(let f=s;f<o.length;f++)if(o.charCodeAt(f)===167&&f+1<o.length){c.length!==0&&(u.extra||(u.extra=[]),u.extra.push({text:c,...h}),c="");const N=S.fromCode(o.charAt(f+1).toLowerCase());N&&N.applyToStyle(h),++f}else c+=o[f];return c.length!==0&&(u.extra||(u.extra=[]),u.extra.push({text:c,...h})),u}var w=class{constructor(o,s,u,c,h,f){this.key=o,this.value=s,this.name=u,this.code=c,this.cssForeground=h,this.cssBackground=f}applyToStyle(o){o[this.key]=this.value}matchStyle(o){return o[this.key]===this.value}static fromCode(o){const u="0123456789abcdefklmnor".indexOf(o);if(u)return this.list[u]}toString(){return`${w.CONTROL_STRING}${this.code}`}},S=w;T(S,"CONTROL_STRING","§");T(S,"BLACK",new w("color","black","BLACK","0",{color:"#000000"},{color:"#000000"}));T(S,"DARK_BLUE",new w("color","dark_blue","DARK_BLUE","1",{color:"#0000AA"},{color:"#00002A"}));T(S,"DARK_GREEN",new w("color","dark_green","DARK_GREEN","2",{color:"#00AA00"},{color:"#002A00"}));T(S,"DARK_AQUA",new w("color","dark_aqua","DARK_AQUA","3",{color:"#00AAAA"},{color:"#002A2A"}));T(S,"DARK_RED",new w("color","dark_red","DARK_RED","4",{color:"#AA0000"},{color:"#2A0000"}));T(S,"DARK_PURPLE",new w("color","dark_purple","DARK_PURPLE","5",{color:"#AA00AA"},{color:"#2A002A"}));T(S,"GOLD",new w("color","gold","GOLD","6",{color:"#FFAA00"},{color:"#2A2A00"}));T(S,"GRAY",new w("color","gray","GRAY","7",{color:"#AAAAAA"},{color:"#2A2A2A"}));T(S,"DARK_GRAY",new w("color","dark_gray","DARK_GRAY","8",{color:"#555555"},{color:"#151515"}));T(S,"BLUE",new w("color","blue","BLUE","9",{color:"#5555FF"},{color:"#15153F"}));T(S,"GREEN",new w("color","green","GREEN","a",{color:"#55FF55"},{color:"#153F15"}));T(S,"AQUA",new w("color","aqua","AQUA","b",{color:"#55FFFF"},{color:"#153F3F"}));T(S,"RED",new w("color","red","RED","c",{color:"#FF5555"},{color:"#3F1515"}));T(S,"LIGHT_PURPLE",new w("color","light_purple","LIGHT_PURPLE","d",{color:"#FF55FF"},{color:"#3F153F"}));T(S,"YELLOW",new w("color","yellow","YELLOW","e",{color:"#FFFF55"},{color:"#3F3F15"}));T(S,"WHITE",new w("color","white","WHITE","f",{color:"#FFFFFF"},{color:"#3F3F3F"}));T(S,"OBFUSCATED",new w("obfuscated",!0,"OBFUSCATED","k",{}));T(S,"BOLD",new w("bold",!0,"BOLD","l",{"font-weight":"bold"}));T(S,"STRIKETHROUGH",new w("strikethrough",!0,"STRIKETHROUGH","m",{"text-decoration":"line-through"}));T(S,"UNDERLINE",new w("underlined",!0,"UNDERLINE","n",{"text-decoration":"underline"}));T(S,"ITALIC",new w("italic",!0,"ITALIC","o",{"font-style":"italic"}));T(S,"RESET",{name:"RESET",code:"r",applyToStyle(o){o.bold=!1,o.strikethrough=!1,o.underlined=!1,o.italic=!1,o.obfuscated=!1,o.color=void 0},matchStyle(o){return!1},cssBackground:{},cssForeground:{},toString(){return`${w.CONTROL_STRING}r`}});T(S,"list",[w.BLACK,w.DARK_BLUE,w.DARK_GREEN,w.DARK_AQUA,w.DARK_RED,w.DARK_PURPLE,w.GOLD,w.GRAY,w.DARK_GRAY,w.BLUE,w.GREEN,w.AQUA,w.RED,w.LIGHT_PURPLE,w.YELLOW,w.WHITE,w.OBFUSCATED,w.BOLD,w.STRIKETHROUGH,w.UNDERLINE,w.ITALIC,w.RESET]);const Ze=/([\p{Ll}\d])(\p{Lu})/gu,et=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,tt=/(\d)(\p{Ll})/gu,rt=/(\p{L})(\d)/gu,it=/[^\p{L}\d]+/giu,ue="$1\0$2",ot="";function nt(o,s={}){const{separateNumbers:u}=s;let c=o.trim();c=c.replace(Ze,ue).replace(et,ue),u&&(c=c.replace(tt,ue).replace(rt,ue)),c=c.replace(it,"\0");let h=0,f=c.length;for(;c.charAt(h)==="\0";)h++;if(h===f)return[];for(;c.charAt(f-1)==="\0";)f--;return c.slice(h,f).split(/\0/g)}function st(o,s){return lt(o,s==null?void 0:s.prefixCharacters)+nt(o,s).map(at(s==null?void 0:s.locale)).join(" ")}function at(o){return o===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(o)}function lt(o,s=ot){let u="";for(let c=0;c<o.length;c++){const h=o.charAt(c);if(s.includes(h))u+=h;else break}return u}var Je={exports:{}};(function(o){(function(s,u){o.exports?o.exports=u():s.nearley=u()})(Oe,function(){function s(e,i,p){return this.id=++s.highestId,this.name=e,this.symbols=i,this.postprocess=p,this}s.highestId=0,s.prototype.toString=function(e){var i=typeof e>"u"?this.symbols.map(L).join(" "):this.symbols.slice(0,e).map(L).join(" ")+" ● "+this.symbols.slice(e).map(L).join(" ");return this.name+" → "+i};function u(e,i,p,t){this.rule=e,this.dot=i,this.reference=p,this.data=[],this.wantedBy=t,this.isComplete=this.dot===e.symbols.length}u.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},u.prototype.nextState=function(e){var i=new u(this.rule,this.dot+1,this.reference,this.wantedBy);return i.left=this,i.right=e,i.isComplete&&(i.data=i.build(),i.right=void 0),i},u.prototype.build=function(){var e=[],i=this;do e.push(i.right.data),i=i.left;while(i.left);return e.reverse(),e},u.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,A.fail))};function c(e,i){this.grammar=e,this.index=i,this.states=[],this.wants={},this.scannable=[],this.completed={}}c.prototype.process=function(e){for(var i=this.states,p=this.wants,t=this.completed,a=0;a<i.length;a++){var r=i[a];if(r.isComplete){if(r.finish(),r.data!==A.fail){for(var n=r.wantedBy,l=n.length;l--;){var y=n[l];this.complete(y,r)}if(r.reference===this.index){var x=r.rule.name;(this.completed[x]=this.completed[x]||[]).push(r)}}}else{var x=r.rule.symbols[r.dot];if(typeof x!="string"){this.scannable.push(r);continue}if(p[x]){if(p[x].push(r),t.hasOwnProperty(x))for(var m=t[x],l=0;l<m.length;l++){var d=m[l];this.complete(r,d)}}else p[x]=[r],this.predict(x)}}},c.prototype.predict=function(e){for(var i=this.grammar.byName[e]||[],p=0;p<i.length;p++){var t=i[p],a=this.wants[e],r=new u(t,0,this.index,a);this.states.push(r)}},c.prototype.complete=function(e,i){var p=e.nextState(i);this.states.push(p)};function h(e,i){this.rules=e,this.start=i||this.rules[0].name;var p=this.byName={};this.rules.forEach(function(t){p.hasOwnProperty(t.name)||(p[t.name]=[]),p[t.name].push(t)})}h.fromCompiled=function(t,i){var p=t.Lexer;t.ParserStart&&(i=t.ParserStart,t=t.ParserRules);var t=t.map(function(r){return new s(r.name,r.symbols,r.postprocess)}),a=new h(t,i);return a.lexer=p,a};function f(){this.reset("")}f.prototype.reset=function(e,i){this.buffer=e,this.index=0,this.line=i?i.line:1,this.lastLineBreak=i?-i.col:0},f.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return e===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},f.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},f.prototype.formatError=function(e,i){var p=this.buffer;if(typeof p=="string"){var t=p.split(`
`).slice(Math.max(0,this.line-5),this.line),a=p.indexOf(`
`,this.index);a===-1&&(a=p.length);var r=this.index-this.lastLineBreak,n=String(this.line).length;return i+=" at line "+this.line+" col "+r+`:

`,i+=t.map(function(y,x){return l(this.line-t.length+x+1,n)+" "+y},this).join(`
`),i+=`
`+l("",n+r)+`^
`,i}else return i+" at index "+(this.index-1);function l(y,x){var m=String(y);return Array(x-m.length+1).join(" ")+m}};function A(e,i,p){if(e instanceof h)var t=e,p=i;else var t=h.fromCompiled(e,i);this.grammar=t,this.options={keepHistory:!1,lexer:t.lexer||new f};for(var a in p||{})this.options[a]=p[a];this.lexer=this.options.lexer,this.lexerState=void 0;var r=new c(t,0);this.table=[r],r.wants[t.start]=[],r.predict(t.start),r.process(),this.current=0}A.fail={},A.prototype.feed=function(e){var i=this.lexer;i.reset(e,this.lexerState);for(var p;;){try{if(p=i.next(),!p)break}catch(G){var n=new c(this.grammar,this.current+1);this.table.push(n);var t=new Error(this.reportLexerError(G));throw t.offset=this.current,t.token=G.token,t}var a=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var r=this.current+1,n=new c(this.grammar,r);this.table.push(n);for(var l=p.text!==void 0?p.text:p.value,y=i.constructor===f?p.value:p,x=a.scannable,m=x.length;m--;){var d=x[m],k=d.rule.symbols[d.dot];if(k.test?k.test(y):k.type?k.type===p.type:k.literal===l){var U=d.nextState({data:y,token:p,isToken:!0,reference:r-1});n.states.push(U)}}if(n.process(),n.states.length===0){var t=new Error(this.reportError(p));throw t.offset=this.current,t.token=p,t}this.options.keepHistory&&(a.lexerState=i.save()),this.current++}return a&&(this.lexerState=i.save()),this.results=this.finish(),this},A.prototype.reportLexerError=function(e){var i,p,t=e.token;return t?(i="input "+JSON.stringify(t.text[0])+" (lexer error)",p=this.lexer.formatError(t,"Syntax error")):(i="input (lexer error)",p=e.message),this.reportErrorCommon(p,i)},A.prototype.reportError=function(e){var i=(e.type?e.type+" token: ":"")+JSON.stringify(e.value!==void 0?e.value:e),p=this.lexer.formatError(e,"Syntax error");return this.reportErrorCommon(p,i)},A.prototype.reportErrorCommon=function(e,i){var p=[];p.push(e);var t=this.table.length-2,a=this.table[t],r=a.states.filter(function(l){var y=l.rule.symbols[l.dot];return y&&typeof y!="string"});if(r.length===0)p.push("Unexpected "+i+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(a.states,p);else{p.push("Unexpected "+i+`. Instead, I was expecting to see one of the following:
`);var n=r.map(function(l){return this.buildFirstStateStack(l,[])||[l]},this);n.forEach(function(l){var y=l[0],x=y.rule.symbols[y.dot],m=this.getSymbolDisplay(x);p.push("A "+m+" based on:"),this.displayStateStack(l,p)},this)}return p.push(""),p.join(`
`)},A.prototype.displayStateStack=function(e,i){for(var p,t=0,a=0;a<e.length;a++){var r=e[a],n=r.rule.toString(r.dot);n===p?t++:(t>0&&i.push("    ^ "+t+" more lines identical to this"),t=0,i.push("    "+n)),p=n}},A.prototype.getSymbolDisplay=function(e){return N(e)},A.prototype.buildFirstStateStack=function(e,i){if(i.indexOf(e)!==-1)return null;if(e.wantedBy.length===0)return[e];var p=e.wantedBy[0],t=[e].concat(i),a=this.buildFirstStateStack(p,t);return a===null?null:[e].concat(a)},A.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},A.prototype.restore=function(e){var i=e.index;this.current=i,this.table[i]=e,this.table.splice(i+1),this.lexerState=e.lexerState,this.results=this.finish()},A.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},A.prototype.finish=function(){var e=[],i=this.grammar.start,p=this.table[this.table.length-1];return p.states.forEach(function(t){t.rule.name===i&&t.dot===t.rule.symbols.length&&t.reference===0&&t.data!==A.fail&&e.push(t)}),e.map(function(t){return t.data})};function N(e){var i=typeof e;if(i==="string")return e;if(i==="object"){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return"character matching "+e;if(e.type)return e.type+" token";if(e.test)return"token matching "+String(e.test);throw new Error("Unknown symbol type: "+e)}}function L(e){var i=typeof e;if(i==="string")return e;if(i==="object"){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return e.toString();if(e.type)return"%"+e.type;if(e.test)return"<"+String(e.test)+">";throw new Error("Unknown symbol type: "+e)}}return{Parser:A,Grammar:h,Rule:s}})})(Je);var ct=Je.exports,Pe={exports:{}};(function(o){(function(){function s(e){return e[0]}function u(e){if(e==="true")return{type:"boolean",value:!0};if(e==="false")return{type:"boolean",value:!1};const i="bslfdi",p={b:"byte",s:"short",l:"long",f:"float",d:"double",i:"int"},t=e.charAt(e.length-1).toLowerCase();if(i.indexOf(t)!==-1){const l=parseFloat(e.substring(0,e.length-1));return isNaN(l)?{value:e,type:"string"}:{value:l,type:p[t]}}const a=parseFloat(e),r=e.includes("."),n=a>>0===a;return!isNaN(e)&&(r||n)?{value:a,type:r?"double":"int"}:{value:e,type:"string"}}function c(e,i){e[0]!==void 0&&(i[e[0]]=e[1])}function h(e){let i={};c(e[2],i);for(let p in e[3])c(e[3][p][3],i);return{type:"compound",value:i}}function f(e){let i=[e[6]];for(let t in e[7])i.push(e[7][t][3]);return{type:{B:"byteArray",I:"intArray",L:"longArray"}[e[2]],value:{type:i[0].type,value:i.map(t=>t.value)}}}function A(e){let i=[e[2]];for(let p in e[3])i.push(e[3][p][3]);return{type:"list",value:{type:i[0].type,value:i.map(p=>p.value)}}}function N(e){let i=[];c(e[2],i);for(let p in e[3])c(e[3][p][3],i);return{type:"list",value:{type:i[0].type,value:i.map(p=>p.value)}}}var L={Lexer:void 0,ParserRules:[{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","wschar"],postprocess:function(i){return i[0].concat([i[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}},{name:"__$ebnf$1",symbols:["wschar"]},{name:"__$ebnf$1",symbols:["__$ebnf$1","wschar"],postprocess:function(i){return i[0].concat([i[1]])}},{name:"__",symbols:["__$ebnf$1"],postprocess:function(e){return null}},{name:"wschar",symbols:[/[ \t\n\v\f]/],postprocess:s},{name:"MAIN",symbols:["_","JVALUE","_"],postprocess:e=>e[1]},{name:"JVALUE",symbols:["JOBJECT"],postprocess:e=>e[0]},{name:"JVALUE",symbols:[{literal:"'"},"_","JOBJECT","_",{literal:"'"}],postprocess:e=>e[2]},{name:"JVALUE",symbols:["JARRAY"],postprocess:e=>e[0]},{name:"JVALUE",symbols:["STRING"],postprocess:e=>e[0]},{name:"JVALUE$string$1",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(i){return i.join("")}},{name:"JVALUE",symbols:["JVALUE$string$1"],postprocess:e=>null},{name:"JOBJECT",symbols:[{literal:"{"},"_",{literal:"}"}],postprocess:e=>({type:"compound",value:{}})},{name:"JOBJECT$ebnf$1",symbols:[]},{name:"JOBJECT$ebnf$1$subexpression$1",symbols:["_",{literal:","},"_","PAIR"]},{name:"JOBJECT$ebnf$1",symbols:["JOBJECT$ebnf$1","JOBJECT$ebnf$1$subexpression$1"],postprocess:function(i){return i[0].concat([i[1]])}},{name:"JOBJECT$ebnf$2$subexpression$1",symbols:["_",{literal:","}]},{name:"JOBJECT$ebnf$2",symbols:["JOBJECT$ebnf$2$subexpression$1"],postprocess:s},{name:"JOBJECT$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"JOBJECT",symbols:[{literal:"{"},"_","PAIR","JOBJECT$ebnf$1","JOBJECT$ebnf$2",{literal:"}"}],postprocess:h},{name:"JARRAY",symbols:[{literal:"["},"_",{literal:"]"}],postprocess:e=>({type:"list",value:{}})},{name:"JARRAY$ebnf$1",symbols:[]},{name:"JARRAY$ebnf$1$subexpression$1",symbols:["_",{literal:","},"_","JVALUE"]},{name:"JARRAY$ebnf$1",symbols:["JARRAY$ebnf$1","JARRAY$ebnf$1$subexpression$1"],postprocess:function(i){return i[0].concat([i[1]])}},{name:"JARRAY$ebnf$2$subexpression$1",symbols:["_",{literal:","}]},{name:"JARRAY$ebnf$2",symbols:["JARRAY$ebnf$2$subexpression$1"],postprocess:s},{name:"JARRAY$ebnf$2",symbols:[],postprocess:function(e){return null}},{name:"JARRAY",symbols:[{literal:"["},"_",/[BIL]/,"_",{literal:";"},"_","JVALUE","JARRAY$ebnf$1","JARRAY$ebnf$2","_",{literal:"]"}],postprocess:f},{name:"JARRAY$ebnf$3",symbols:[]},{name:"JARRAY$ebnf$3$subexpression$1",symbols:["_",{literal:","},"_","JVALUE"]},{name:"JARRAY$ebnf$3",symbols:["JARRAY$ebnf$3","JARRAY$ebnf$3$subexpression$1"],postprocess:function(i){return i[0].concat([i[1]])}},{name:"JARRAY$ebnf$4$subexpression$1",symbols:["_",{literal:","}]},{name:"JARRAY$ebnf$4",symbols:["JARRAY$ebnf$4$subexpression$1"],postprocess:s},{name:"JARRAY$ebnf$4",symbols:[],postprocess:function(e){return null}},{name:"JARRAY",symbols:[{literal:"["},"_","JVALUE","JARRAY$ebnf$3","JARRAY$ebnf$4","_",{literal:"]"}],postprocess:A},{name:"JARRAY$ebnf$5",symbols:[]},{name:"JARRAY$ebnf$5$subexpression$1",symbols:["_",{literal:","},"_","PAIR"]},{name:"JARRAY$ebnf$5",symbols:["JARRAY$ebnf$5","JARRAY$ebnf$5$subexpression$1"],postprocess:function(i){return i[0].concat([i[1]])}},{name:"JARRAY$ebnf$6$subexpression$1",symbols:["_",{literal:","}]},{name:"JARRAY$ebnf$6",symbols:["JARRAY$ebnf$6$subexpression$1"],postprocess:s},{name:"JARRAY$ebnf$6",symbols:[],postprocess:function(e){return null}},{name:"JARRAY",symbols:[{literal:"["},"_","PAIR","JARRAY$ebnf$5","JARRAY$ebnf$6","_",{literal:"]"}],postprocess:N},{name:"PAIR",symbols:["STRING","_",{literal:":"},"_","JVALUE"],postprocess:e=>[e[0].value,e[4]]},{name:"STRING$ebnf$1",symbols:[]},{name:"STRING$ebnf$1$subexpression$1",symbols:[/[^\\"]/]},{name:"STRING$ebnf$1$subexpression$1",symbols:[{literal:"\\"},/["bfnrt\/\\]/]},{name:"STRING$ebnf$1$subexpression$1$string$1",symbols:[{literal:"\\"},{literal:"u"}],postprocess:function(i){return i.join("")}},{name:"STRING$ebnf$1$subexpression$1",symbols:["STRING$ebnf$1$subexpression$1$string$1",/[a-fA-F0-9]/,/[a-fA-F0-9]/,/[a-fA-F0-9]/,/[a-fA-F0-9]/]},{name:"STRING$ebnf$1",symbols:["STRING$ebnf$1","STRING$ebnf$1$subexpression$1"],postprocess:function(i){return i[0].concat([i[1]])}},{name:"STRING",symbols:[{literal:'"'},"STRING$ebnf$1",{literal:'"'}],postprocess:e=>u(JSON.parse(e.flat(3).map(i=>i.replace(`
`,"\\n")).join("")))},{name:"STRING$ebnf$2",symbols:[/[^\"\'}\]:;,\s]/]},{name:"STRING$ebnf$2",symbols:["STRING$ebnf$2",/[^\"\'}\]:;,\s]/],postprocess:function(i){return i[0].concat([i[1]])}},{name:"STRING",symbols:["STRING$ebnf$2"],postprocess:e=>u(e[0].join(""))}],ParserStart:"MAIN"};o.exports=L})()})(Pe);var ut=Pe.exports;const Te=ct,pt=ut;function Ue(o){function s(u,c){return c==="compound"?Object.keys(u).reduce(function(h,f){return h[f]=Ue(u[f]),h},{}):c==="list"?Array.isArray(u.value)?u.value.map(function(h){return s(h,u.type)}):[]:u}return s(o.value,o.type)}function fe({value:o,type:s}){if(s==="compound"){const c=[],h=Object.entries(o);for(let f=0;f<h.length;f++){const A=h[f][0];let N=fe(h[f][1]);A==="string"&&(N=ke(N)),c.push(`${A}:${N}`)}return`{${c.join(",")}}`}else{if(s==="list")return Array.isArray(o.value)?`[${Ne(o)}]`:"[]";if(s==="byteArray"||s==="intArray"||s==="longArray"){const c=bt(s),h=Ne(o);return`[${c}${h}]`}}let u=o+mt(o,s);return s==="string"&&(u=ke(u)),u}function ke(o){return o=o.replace(/"/g,'\\"'),(/'|{|}|\[|\]|:|;|,|\(|\)|§|=/g.test(o)||o==="")&&(o=`"${o}"`),o}function Ne({value:o,type:s}){const u=ft(o),c=[];for(let h=0;h<o.length;h++){let f=o[h];f!==void 0&&(f=fe({value:f,type:s}),u?c.push(`${h}:${f}`):c.push(f))}return c.join(",")}function ft(o){for(let s=0;s<o.length;s++)if(o[s]===void 0)return!0;return!1}const bt=o=>o.charAt(0).toUpperCase()+";";function mt(o,s){return s==="double"?o>>0===o?"d":"":{int:"",byte:"b",short:"s",float:"f",long:"l",string:""}[s]}function dt(o){return fe(Be(o))}function Be(o){try{const s=new Te.Parser(Te.Grammar.fromCompiled(pt));return s.feed(o),s.results[0]}catch(s){throw s.message=`Error parsing text '${o}'`,s}}var ht={parse:Be,simplify:Ue,stringify:fe,normalize:dt};const Fe=Ve(ht);var ge={exports:{}};(function(o,s){(function(u,c){var h="1.0.37",f="",A="?",N="function",L="undefined",e="object",i="string",p="major",t="model",a="name",r="type",n="vendor",l="version",y="architecture",x="console",m="mobile",d="tablet",k="smarttv",U="wearable",G="embedded",Y=500,V="Amazon",j="Apple",Q="ASUS",K="BlackBerry",J="Browser",z="Chrome",ie="Edge",b="Firefox",F="Google",I="Huawei",B="LG",Z="Microsoft",oe="Motorola",ne="Opera",se="Samsung",ve="Sharp",ae="Sony",be="Xiaomi",me="Zebra",Ae="Facebook",xe="Chromium OS",Re="Mac OS",De=function(R,$){var v={};for(var E in R)$[E]&&$[E].length%2===0?v[E]=$[E].concat(R[E]):v[E]=R[E];return v},le=function(R){for(var $={},v=0;v<R.length;v++)$[R[v].toUpperCase()]=R[v];return $},_e=function(R,$){return typeof R===i?ee($).indexOf(ee(R))!==-1:!1},ee=function(R){return R.toLowerCase()},Me=function(R){return typeof R===i?R.replace(/[^\d\.]/g,f).split(".")[0]:c},de=function(R,$){if(typeof R===i)return R=R.replace(/^\s\s*/,f),typeof $===L?R:R.substring(0,Y)},te=function(R,$){for(var v=0,E,q,D,_,g,M;v<$.length&&!g;){var we=$[v],Se=$[v+1];for(E=q=0;E<we.length&&!g&&we[E];)if(g=we[E++].exec(R),g)for(D=0;D<Se.length;D++)M=g[++q],_=Se[D],typeof _===e&&_.length>0?_.length===2?typeof _[1]==N?this[_[0]]=_[1].call(this,M):this[_[0]]=_[1]:_.length===3?typeof _[1]===N&&!(_[1].exec&&_[1].test)?this[_[0]]=M?_[1].call(this,M,_[2]):c:this[_[0]]=M?M.replace(_[1],_[2]):c:_.length===4&&(this[_[0]]=M?_[3].call(this,M.replace(_[1],_[2])):c):this[_]=M||c;v+=2}},he=function(R,$){for(var v in $)if(typeof $[v]===e&&$[v].length>0){for(var E=0;E<$[v].length;E++)if(_e($[v][E],R))return v===A?c:v}else if(_e($[v],R))return v===A?c:v;return R},Ge={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},$e={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ee={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,l],[/opios[\/ ]+([\w\.]+)/i],[l,[a,ne+" Mini"]],[/\bopr\/([\w\.]+)/i],[l,[a,ne]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[l,[a,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[a,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[a,"UC"+J]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[l,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[a,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[l,[a,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[l,[a,"Smart Lenovo "+J]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+J],l],[/\bfocus\/([\w\.]+)/i],[l,[a,b+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[a,ne+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[a,ne+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[a,"MIUI "+J]],[/fxios\/([-\w\.]+)/i],[l,[a,b]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 "+J]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 "+J],l],[/samsungbrowser\/([\w\.]+)/i],[l,[a,se+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],l],[/metasr[\/ ]?([\d\.]+)/i],[l,[a,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[a,"Sogou Mobile"],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[a,l],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,Ae],l],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[a,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[a,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[l,[a,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[a,z+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,z+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[a,"Android "+J]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,l],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[l,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[l,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[l,he,Ge]],[/(webkit|khtml)\/([\w\.]+)/i],[a,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[a,b+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[a,l],[/(cobalt)\/([\w\.]+)/i],[a,[l,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,ee]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,f,ee]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,ee]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[t,[n,se],[r,d]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[t,[n,se],[r,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[t,[n,j],[r,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[t,[n,j],[r,d]],[/(macintosh);/i],[t,[n,j]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[t,[n,ve],[r,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[t,[n,I],[r,d]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[t,[n,I],[r,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[t,/_/g," "],[n,be],[r,m]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[t,/_/g," "],[n,be],[r,d]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[t,[n,"OPPO"],[r,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[t,[n,"Vivo"],[r,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[t,[n,"Realme"],[r,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[t,[n,oe],[r,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[t,[n,oe],[r,d]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[t,[n,B],[r,d]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[t,[n,B],[r,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[t,[n,"Lenovo"],[r,d]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[t,/_/g," "],[n,"Nokia"],[r,m]],[/(pixel c)\b/i],[t,[n,F],[r,d]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[t,[n,F],[r,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[t,[n,ae],[r,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[t,"Xperia Tablet"],[n,ae],[r,d]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[t,[n,"OnePlus"],[r,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[t,[n,V],[r,d]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[t,/(.+)/g,"Fire Phone $1"],[n,V],[r,m]],[/(playbook);[-\w\),; ]+(rim)/i],[t,n,[r,d]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[t,[n,K],[r,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[t,[n,Q],[r,d]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[t,[n,Q],[r,m]],[/(nexus 9)/i],[t,[n,"HTC"],[r,d]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[n,[t,/_/g," "],[r,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[t,[n,"Acer"],[r,d]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[t,[n,"Meizu"],[r,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[t,[n,"Ulefone"],[r,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[n,t,[r,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[n,t,[r,d]],[/(surface duo)/i],[t,[n,Z],[r,d]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[t,[n,"Fairphone"],[r,m]],[/(u304aa)/i],[t,[n,"AT&T"],[r,m]],[/\bsie-(\w*)/i],[t,[n,"Siemens"],[r,m]],[/\b(rct\w+) b/i],[t,[n,"RCA"],[r,d]],[/\b(venue[\d ]{2,7}) b/i],[t,[n,"Dell"],[r,d]],[/\b(q(?:mv|ta)\w+) b/i],[t,[n,"Verizon"],[r,d]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[t,[n,"Barnes & Noble"],[r,d]],[/\b(tm\d{3}\w+) b/i],[t,[n,"NuVision"],[r,d]],[/\b(k88) b/i],[t,[n,"ZTE"],[r,d]],[/\b(nx\d{3}j) b/i],[t,[n,"ZTE"],[r,m]],[/\b(gen\d{3}) b.+49h/i],[t,[n,"Swiss"],[r,m]],[/\b(zur\d{3}) b/i],[t,[n,"Swiss"],[r,d]],[/\b((zeki)?tb.*\b) b/i],[t,[n,"Zeki"],[r,d]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[n,"Dragon Touch"],t,[r,d]],[/\b(ns-?\w{0,9}) b/i],[t,[n,"Insignia"],[r,d]],[/\b((nxa|next)-?\w{0,9}) b/i],[t,[n,"NextBook"],[r,d]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[n,"Voice"],t,[r,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[n,"LvTel"],t,[r,m]],[/\b(ph-1) /i],[t,[n,"Essential"],[r,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[t,[n,"Envizen"],[r,d]],[/\b(trio[-\w\. ]+) b/i],[t,[n,"MachSpeed"],[r,d]],[/\btu_(1491) b/i],[t,[n,"Rotor"],[r,d]],[/(shield[\w ]+) b/i],[t,[n,"Nvidia"],[r,d]],[/(sprint) (\w+)/i],[n,t,[r,m]],[/(kin\.[onetw]{3})/i],[[t,/\./g," "],[n,Z],[r,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[t,[n,me],[r,d]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[t,[n,me],[r,m]],[/smart-tv.+(samsung)/i],[n,[r,k]],[/hbbtv.+maple;(\d+)/i],[[t,/^/,"SmartTV"],[n,se],[r,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[n,B],[r,k]],[/(apple) ?tv/i],[n,[t,j+" TV"],[r,k]],[/crkey/i],[[t,z+"cast"],[n,F],[r,k]],[/droid.+aft(\w+)( bui|\))/i],[t,[n,V],[r,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[t,[n,ve],[r,k]],[/(bravia[\w ]+)( bui|\))/i],[t,[n,ae],[r,k]],[/(mitv-\w{5}) bui/i],[t,[n,be],[r,k]],[/Hbbtv.*(technisat) (.*);/i],[n,t,[r,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[n,de],[t,de],[r,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[r,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[n,t,[r,x]],[/droid.+; (shield) bui/i],[t,[n,"Nvidia"],[r,x]],[/(playstation [345portablevi]+)/i],[t,[n,ae],[r,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[t,[n,Z],[r,x]],[/((pebble))app/i],[n,t,[r,U]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[t,[n,j],[r,U]],[/droid.+; (glass) \d/i],[t,[n,F],[r,U]],[/droid.+; (wt63?0{2,3})\)/i],[t,[n,me],[r,U]],[/(quest( 2| pro)?)/i],[t,[n,Ae],[r,U]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[n,[r,G]],[/(aeobc)\b/i],[t,[n,V],[r,G]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[t,[r,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[t,[r,d]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[r,d]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[r,m]],[/(android[-\w\. ]{0,9});.+buil/i],[t,[n,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[a,ie+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[a,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,l],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[a,[l,he,$e]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,he,$e],[a,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,Re],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,l],[/\(bb(10);/i],[l,[a,K]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[a,b+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[a,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[l,[a,"watchOS"]],[/crkey\/([\d\.]+)/i],[l,[a,z+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[a,xe],l],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,l],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[a,l]]},P=function(R,$){if(typeof R===e&&($=R,R=c),!(this instanceof P))return new P(R,$).getResult();var v=typeof u!==L&&u.navigator?u.navigator:c,E=R||(v&&v.userAgent?v.userAgent:f),q=v&&v.userAgentData?v.userAgentData:c,D=$?De(Ee,$):Ee,_=v&&v.userAgent==E;return this.getBrowser=function(){var g={};return g[a]=c,g[l]=c,te.call(g,E,D.browser),g[p]=Me(g[l]),_&&v&&v.brave&&typeof v.brave.isBrave==N&&(g[a]="Brave"),g},this.getCPU=function(){var g={};return g[y]=c,te.call(g,E,D.cpu),g},this.getDevice=function(){var g={};return g[n]=c,g[t]=c,g[r]=c,te.call(g,E,D.device),_&&!g[r]&&q&&q.mobile&&(g[r]=m),_&&g[t]=="Macintosh"&&v&&typeof v.standalone!==L&&v.maxTouchPoints&&v.maxTouchPoints>2&&(g[t]="iPad",g[r]=d),g},this.getEngine=function(){var g={};return g[a]=c,g[l]=c,te.call(g,E,D.engine),g},this.getOS=function(){var g={};return g[a]=c,g[l]=c,te.call(g,E,D.os),_&&!g[a]&&q&&q.platform!="Unknown"&&(g[a]=q.platform.replace(/chrome os/i,xe).replace(/macos/i,Re)),g},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return E},this.setUA=function(g){return E=typeof g===i&&g.length>Y?de(g,Y):g,this},this.setUA(E),this};P.VERSION=h,P.BROWSER=le([a,l,p]),P.CPU=le([y]),P.DEVICE=le([t,n,r,x,m,k,d,U,G]),P.ENGINE=P.OS=le([a,l]),o.exports&&(s=o.exports=P),s.UAParser=P;var X=typeof u!==L&&(u.jQuery||u.Zepto);if(X&&!X.ua){var ce=new P;X.ua=ce.getResult(),X.ua.get=function(){return ce.getUA()},X.ua.set=function(R){ce.setUA(R);var $=ce.getResult();for(var v in $)X.ua[v]=$[v]}}})(typeof window=="object"?window:Oe)})(ge,ge.exports);var wt=ge.exports;const gt=new wt.UAParser(navigator.userAgent),Ce=gt.getOS().name==="iOS",yt=o=>typeof o=="string"?o:JSON.stringify(o),vt=({message:o})=>{const s={"chat-message-fadeout":o.fading,"chat-message-fade":o.fading,"chat-message-faded":o.faded,"chat-message":!0};return C("li",{className:Object.entries(s).filter(([,u])=>u).map(([u])=>u).join(" "),children:o.parts.map((u,c)=>C(pe,{part:u},c))})},W=Ke({value:""}),Ft=(o,s,u)=>{setTimeout(()=>{o.fading=!0,u(),setTimeout(()=>{o.faded=!0,u()},3e3)},s?5e3:0)},Ct=({messages:o,opacity:s=1,fetchCompletionItems:u,opened:c,sendMessage:h,onClose:f,usingTouch:A,allowSelection:N,inputDisabled:L})=>{const e=O.useRef(JSON.parse(window.sessionStorage.chatHistory||"[]")),[i,p]=O.useState(""),t=O.useRef(""),[a,r]=O.useState([]),[n,l]=O.useState([]),y=O.useRef(null),x=O.useRef(null),m=O.useRef(!1),d=O.useRef(e.current.length),k=O.useRef(""),U=b=>{e.current=b,window.sessionStorage.chatHistory=JSON.stringify(b),d.current=b.length},G=b=>{const F=t.current==="/"?"":K();Y(F+b),y.current.focus()},Y=b=>{y.current.value=b,ie(),setTimeout(()=>{y.current.setSelectionRange(b.length,b.length)},0)};O.useEffect(()=>{},[]);const V=()=>{r([]),l([])};O.useEffect(()=>{if(c)return Y(W.value),W.value="",A||y.current.focus(),ze(W,()=>{W.value&&(Y(W.value),W.value="",y.current.focus())});!c&&x.current&&(x.current.scrollTop=x.current.scrollHeight)},[c]),O.useMemo(()=>{c&&(t.current="",V())},[c]),O.useEffect(()=>{(!c||c&&m.current)&&x.current&&(m.current=!1,x.current.scrollTop=x.current.scrollHeight)},[o]),O.useMemo(()=>{if(c&&x.current){const b=x.current.scrollTop===x.current.scrollHeight-x.current.clientHeight;m.current=b}},[o]);const j=b=>{y.current.focus(),y.current.dispatchEvent(new KeyboardEvent("keydown",{code:b,bubbles:!0}))},Q=()=>{const b=y.current.value;return b.slice(0,y.current.selectionEnd??b.length)},K=(b=Q())=>{const F=b.split(" "),I=F.at(-1).length,B=I?b.slice(0,-I):b;return F.length===1&&b.startsWith("/")?"/":B},J=async(b,F=y.current.value)=>{const I=K(F);t.current=I,V();const B=await(u==null?void 0:u(b?"implicit":"explicit",I,F))??[];I===t.current&&(r(B),z(B))},z=b=>{const F=b.filter(I=>{const B=I.split(/[_:]/),Z=y.current.value.slice(0,y.current.selectionEnd??y.current.value.length).split(" ").at(-1);return[I,...B].some(oe=>oe.startsWith(Z))});l(F)},ie=()=>{const b=K();if(p(b==="/"?"":b),t.current===b){z(a);return}b.startsWith("/")?J(!0):V(),t.current=b};return re(Ye,{children:[C("div",{className:`chat-wrapper chat-messages-wrapper ${A?"display-mobile":""}`,style:{userSelect:c&&N?"text":void 0},children:s&&C("div",{ref:x,className:`chat ${c?"opened":""}`,id:"chat-messages",style:{opacity:s},children:o.map(b=>C(vt,{message:b},yt(b)))})||void 0}),re("div",{className:`chat-wrapper chat-input-wrapper ${A?"input-mobile":""}`,hidden:!c,children:[A&&C(qe,{icon:He.close,onClick:()=>f==null?void 0:f()}),re("div",{className:"chat-input",children:[n!=null&&n.length?re("div",{className:"chat-completions",children:[C("div",{className:"chat-completions-pad-text",children:i}),C("div",{className:"chat-completions-items",children:n.map(b=>C("div",{onClick:()=>G(b),children:b},b))})]}):null,re("form",{onSubmit:b=>{b.preventDefault();const F=y.current.value;F&&(U([...e.current,F]),(h==null?void 0:h(F))!==!1&&(f==null||f()))},children:[Ce&&C("input",{value:"",type:"text",className:"chat-mobile-hidden",id:"chatinput-next-command",spellCheck:!1,autoComplete:"off",onFocus:()=>j("ArrowUp"),onChange:()=>{}}),C("input",{defaultValue:"",ref:y,type:"text",className:"chat-input",id:"chatinput",spellCheck:!1,autoComplete:"off","aria-autocomplete":"both",onChange:ie,disabled:!!L,placeholder:L,onKeyDown:b=>{if(b.code==="ArrowUp"){if(d.current===0)return;d.current===e.current.length&&(k.current=b.currentTarget.value),d.current--,Y(e.current[d.current]||"")}else if(b.code==="ArrowDown"){if(d.current===e.current.length)return;d.current++,Y(e.current[d.current]||k.current||"")}b.code==="Tab"&&(a.length?n.length&&G(n[0]):J(!1),b.preventDefault()),b.code==="Space"&&(V(),y.current.value.startsWith("/")&&J(!0,K(Q()+" ")))}}),Ce&&C("input",{value:"",type:"text",className:"chat-mobile-hidden",id:"chatinput-prev-command",spellCheck:!1,autoComplete:"off",onFocus:()=>j("ArrowDown"),onChange:()=>{}}),C("button",{type:"submit",style:{visibility:"hidden"}})]})]})]})]})};try{Chat.displayName="Chat",Chat.__docgenInfo={description:"",displayName:"Chat",props:{messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"Message[]"}},usingTouch:{defaultValue:null,description:"",name:"usingTouch",required:!0,type:{name:"boolean"}},opacity:{defaultValue:null,description:"",name:"opacity",required:!1,type:{name:"number"}},opened:{defaultValue:null,description:"",name:"opened",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},sendMessage:{defaultValue:null,description:"",name:"sendMessage",required:!1,type:{name:"((message: string) => boolean | void)"}},fetchCompletionItems:{defaultValue:null,description:"",name:"fetchCompletionItems",required:!1,type:{name:'((triggerKind: "implicit" | "explicit", completeValue: string, fullValue: string, abortController?: AbortController) => Promise<void | string[]>)'}},allowSelection:{defaultValue:null,description:"",name:"allowSelection",required:!1,type:{name:"boolean"}},inputDisabled:{defaultValue:null,description:"",name:"inputDisabled",required:!1,type:{name:"string"}}}}}catch{}const At=o=>{try{if(!o)return;const s=o.contents??o.value;if(typeof s.text=="string"&&s.text.startsWith("{")&&Object.assign(s,Fe.simplify(Fe.parse(s.text))),typeof s=="string")return s;if(o.action==="show_item")return s.id;if(o.action==="show_entity"){let u=st(s.type.replace("minecraft:",""));return s.name&&(u+=`: ${s.name.text}`),u}}catch(s){reportError==null||reportError("Failed to parse message hover"+s.message);return}},xt=o=>{if(o){if(o.action==="run_command"||o.action==="suggest_command")return{onClick(){W.value=o.value}};if(o.action==="open_url")return{onClick(){window.confirm(`Open ${o.value}?`)&&je(o.value)}};if(o.action==="copy_to_clipboard")return{onClick(){navigator.clipboard.writeText(o.value)}}}},pe=({part:o,...s})=>{const{color:u,italic:c,bold:h,underlined:f,strikethrough:A,text:N,clickEvent:L,hoverEvent:e,obfuscated:i}=o,p=xt(L),t=At(e),a=t&&typeof t!="string"?Ie(t).children.map(n=>n.component.text).join(""):t,r=[u?Le(u.toLowerCase())+`; text-shadow: 1px 1px 0px ${Rt(Le(u.toLowerCase()).replace("color:",""))}`:H.white,c&&H.italic,h&&H.bold,c&&H.italic,f&&H.underlined,A&&H.strikethrough,i&&H.obfuscated].filter(n=>n!==!1&&n!==void 0).filter(Boolean);return C("span",{title:a,style:ye(r.join(" ")),...p,...s,children:N})},Lt=({parts:o,className:s})=>C("span",{className:`formatted-message ${s??""}`,children:o.map((u,c)=>C(pe,{part:u},c))}),Le=o=>o.trim().startsWith("#")?`color:${o}`:H[o]??void 0;function Rt(o,s=.25){const u=parseInt(o.replace("#",""),16),c=Math.trunc((u>>16&255)*s),h=Math.trunc((u>>8&255)*s),f=Math.trunc((u&255)*s),A=N=>("00"+N.toString(16)).slice(-2);return`#${A(c)}${A(h)}${A(f)}`}function ye(o){const s={};for(const u of o.split(";")){const[c,h]=u.split(":"),f=c.trim().replaceAll(/-./g,A=>A.toUpperCase()[1]);s[f]=h.trim()}return s}const H={black:"color:#000000",dark_blue:"color:#0000AA",dark_green:"color:#00AA00",dark_aqua:"color:#00AAAA",dark_red:"color:#AA0000",dark_purple:"color:#AA00AA",gold:"color:#FFAA00",gray:"color:#AAAAAA",dark_gray:"color:#555555",blue:"color:#5555FF",green:"color:#55FF55",aqua:"color:#55FFFF",red:"color:#FF5555",light_purple:"color:#FF55FF",yellow:"color:#FFFF55",white:"color:#FFFFFF",bold:"font-weight:900",strikethrough:"text-decoration:line-through",underlined:"text-decoration:underline",italic:"font-style:italic",obfuscated:"filter:blur(2px)"};try{ye.displayName="parseInlineStyle",ye.__docgenInfo={description:"",displayName:"parseInlineStyle",props:{}}}catch{}try{pe.displayName="MessagePart",pe.__docgenInfo={description:"",displayName:"MessagePart",props:{part:{defaultValue:null,description:"",name:"part",required:!0,type:{name:"MessageFormatPart"}}}}}catch{}try{MessageFormatted.displayName="MessageFormatted",MessageFormatted.__docgenInfo={description:"",displayName:"MessageFormatted",props:{parts:{defaultValue:null,description:"",name:"parts",required:!0,type:{name:"readonly MessageFormatPart[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{Ct as C,Lt as M,Nt as a,W as c,Ft as f,yt as r};
//# sourceMappingURL=MessageFormatted-ac3715c5.js.map
