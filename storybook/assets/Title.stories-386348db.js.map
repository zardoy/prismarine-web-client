{"version":3,"file":"Title.stories-386348db.js","sources":["../../src/react/Title.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { Transition } from 'react-transition-group'\nimport MessageFormattedString from './MessageFormattedString'\nimport './Title.css'\n\nexport type AnimationTimes = {\n  fadeIn: number,\n  stay: number,\n  fadeOut: number\n}\n\ntype TitleProps = {\n  title: string | Record<string, any>,\n  subtitle: string | Record<string, any>,\n  actionBar: string | Record<string, any>,\n  transitionTimes: AnimationTimes,\n  openTitle: boolean,\n  openActionBar: boolean\n}\n\nconst Title = ({\n  title,\n  subtitle,\n  actionBar,\n  transitionTimes,\n  openTitle = false,\n  openActionBar = false\n}: TitleProps) => {\n  const [mounted, setMounted] = useState(false)\n  const [useEnterTransition, setUseEnterTransition] = useState(true)\n\n  const defaultDuration = 500\n  const startStyle = {\n    opacity: 1,\n    transition: `${transitionTimes.fadeIn}ms ease-in-out all` }\n  const endExitStyle = {\n    opacity: 0,\n    transition: `${transitionTimes.fadeOut}ms ease-in-out all` }\n\n  const stateStyles = {\n    entering: startStyle,\n    entered: { opacity: 1 },\n    exiting: endExitStyle,\n    exited: { opacity: 0 },\n  }\n\n  useEffect(() => {\n    if (!mounted && (openTitle || openActionBar)) {\n      setMounted(true)\n    }\n  }, [openTitle, openActionBar])\n\n  return (\n    <div className='title-container'>\n      <Transition\n        in={openTitle}\n        timeout={transitionTimes ? {\n          enter: transitionTimes.fadeIn,\n          exit: transitionTimes.fadeOut,\n        } : defaultDuration}\n        mountOnEnter\n        unmountOnExit\n        enter={useEnterTransition}\n        onExiting={() => {\n          setUseEnterTransition(prev => false)\n        }}\n        onExited={() => {\n          setUseEnterTransition(prev => true)\n        }}\n      >\n        {(state) => {\n          return (\n            <div style={{ ...stateStyles[state] }}>\n              <h1 className='message-title'>\n                <MessageFormattedString message={title} />\n              </h1>\n              <h4 className='message-subtitle'>\n                <MessageFormattedString message={subtitle} />\n              </h4>\n            </div>\n          )\n        }}\n      </Transition>\n      <Transition\n        in={openActionBar}\n        timeout={transitionTimes ? {\n          enter: transitionTimes.fadeIn,\n          exit: transitionTimes.fadeOut,\n        } : defaultDuration}\n        mountOnEnter\n        unmountOnExit\n        // enter={useEnterTransition}\n        // onExiting={() => {\n        //   setUseEnterTransition(prev => false)\n        // }}\n        // onExited={() => {\n        //   setUseEnterTransition(prev => true)\n        // }}\n      >\n        {(state) => {\n          return (\n            <div style={{ ...stateStyles[state] }}>\n              <div className='action-bar'>\n                <MessageFormattedString message={actionBar} />\n              </div>\n            </div>\n          )\n        }}\n      </Transition>\n    </div>\n  )\n}\n\nexport default Title\n"],"names":["Title","title","subtitle","actionBar","transitionTimes","openTitle","openActionBar","mounted","setMounted","useState","useEnterTransition","setUseEnterTransition","defaultDuration","startStyle","endExitStyle","stateStyles","useEffect","jsxs","jsx","Transition","prev","state","MessageFormattedString"],"mappings":"8eAoBA,MAAAA,EAAA,CAAA,CAAe,MAAAC,EACb,SAAAC,EACA,UAAAC,EACA,gBAAAC,EACA,UAAAC,EAAA,GACY,cAAAC,EAAA,EAEd,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,EAAA,SAAA,EAAA,EAEAG,EAAA,IACAC,EAAA,CAAmB,QAAA,EACR,WAAA,GAAAT,EAAA,MAAA,oBAC4B,EACvCU,EAAA,CAAqB,QAAA,EACV,WAAA,GAAAV,EAAA,OAAA,oBAC6B,EAExCW,EAAA,CAAoB,SAAAF,EACR,QAAA,CAAA,QAAA,CAAA,EACY,QAAAC,EACb,OAAA,CAAA,QAAA,CAAA,CACY,EAGvBE,OAAAA,EAAAA,UAAA,IAAA,CACE,CAAAT,IAAAF,GAAAC,IACEE,EAAA,EAAA,CACF,EAAA,CAAAH,EAAAC,CAAA,CAAA,EAGFW,EAAA,MAAA,CAAA,UAAA,kBAAA,SAAA,CAEIC,EAAAC,EAAC,CAAA,GAAAd,EACK,QAAAD,EAAA,CACuB,MAAAA,EAAA,OACF,KAAAA,EAAA,OACD,EAAAQ,EACpB,aAAA,GACQ,cAAA,GACC,MAAAF,EACN,UAAA,IAAA,CAELC,EAAAS,GAAA,EAAA,CAAmC,EACrC,SAAA,IAAA,CAEET,EAAAS,GAAA,EAAA,CAAkC,EACpC,SAAAC,GAGEJ,EAAA,MAAA,CAAA,MAAA,CAAA,GAAAF,EAAAM,CAAA,CAAA,EAAA,SAAA,CAEIH,EAAA,KAAA,CAAA,UAAA,gBAAA,SAAAA,EAAAI,EAAA,CAAA,QAAArB,CAAA,CAAA,CAAA,CAAA,EAEAiB,EAAA,KAAA,CAAA,UAAA,mBAAA,SAAAA,EAAAI,EAAA,CAAA,QAAApB,CAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,CAGN,CAAA,EACFgB,EACAC,EAAC,CAAA,GAAAb,EACK,QAAAF,EAAA,CACuB,MAAAA,EAAA,OACF,KAAAA,EAAA,OACD,EAAAQ,EACpB,aAAA,GACQ,cAAA,GACC,SAAAS,GAUXH,EAAA,MAAA,CAAA,MAAA,CAAA,GAAAH,EAAAM,CAAA,CAAA,EAAA,SAAAH,EAAA,MAAA,CAAA,UAAA,aAAA,SAAAA,EAAAI,EAAA,CAAA,QAAAnB,CAAA,CAAA,EAAA,CAAA,CAAA,CAOF,CAAA,CACF,CAAA,CAAA,CAGN;;;;;;;;;;;;;;;;;;;"}