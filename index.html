<!DOCTYPE html>
<html>
  <head>
    <script>
      window.startLoad = Date.now()
    </script>
    <script type="module" async>
      const checkLoadEruda = () => {
        if (window.location.hash === '#dev') {
          // todo precache (check offline)?
          import('https://cdn.skypack.dev/eruda').then(({ default: eruda }) => {
            eruda.init()
          })
        }
      }
      checkLoadEruda()
      window.addEventListener('hashchange', (e) => {
        setTimeout(() => {
          checkLoadEruda()
        })
      })
      const loadingDiv = `
      <div class="initial-loader" style="position: fixed;transition:opacity 0.2s;inset: 0;background:black;display: flex;justify-content: center;align-items: center;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', Arial, Helvetica, sans-serif;gap: 15px;" ontransitionend="this.remove()">
    <div>
        <img src="./loading-bg.jpg" alt="Prismarine Web Client" style="position:fixed;inset:0;width:100%;height:100%;z-index: -2;object-fit: cover;filter: blur(3px);">
        <div style="position: fixed;inset: 0;z-index: -1;background-color: rgba(0, 0, 0, 0.8);"></div>
    </div>
    <div>
        <div style="font-size: calc(var(--font-size) * 1.8);color: lightgray;">Loading...</div>
        <div style="font-size: var(--font-size);color: rgb(176, 176, 176);">A true Minecraft client in your browser!</div>
    </div>
</div>
`
      const loadingDivElem = document.createElement('div')
      loadingDivElem.innerHTML = loadingDiv
      document.documentElement.appendChild(loadingDivElem)
    </script>
    <style>
      html {
        background: black;
      }
      .initial-loader {
          --font-size: 20px;
      }
      @media screen and (min-width: 550px) {
          .initial-loader {
              --font-size: 30px;
          }
      }
      @media screen and (min-width: 950px) {
          .initial-loader {
              --font-size: 50px;
          }
      }
    </style>
    <title>Prismarine Web Client</title>
    <link rel="stylesheet" href="index.css">
    <link rel="favicon" href="favicon.ico">
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="canonical" href="https://mcraft.fun">
    <meta name="description" content="Minecraft web client running in your browser">
    <meta name="keywords" content="Play, Minecraft, Online, Web, Java, Server, Single player, Javascript, PrismarineJS, Voxel, WebGL, Three.js">
    <meta name="date" content="2023-09-11" scheme="YYYY-MM-DD">
    <meta name="language" content="English">
    <meta name="theme-color" content="#349474">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover'>
    <meta property="og:title" content="Prismarine Web Client" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="favicon.png" />
    <meta name="format-detection" content="telephone=no">
    <link rel="manifest" href="manifest.json" crossorigin="use-credentials">
  </head>
  <body>
    <div id="react-root"></div>
    <div id="ui-root">
      <pmui-hud id="hud" style="display: none;"></pmui-hud>
      <pmui-pausescreen id="pause-screen" style="display: none;"></pmui-pausescreen>
      <pmui-playscreen id="play-screen" style="display: none;"></pmui-playscreen>
      <pmui-notification></pmui-notification>
      <context-menu id="context-menu"></context-menu>
    </div>
    <!-- inject script -->
  </body>
</html>
